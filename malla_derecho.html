<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular - Derecho</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fefefe;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      color: #ba7c9e;
    }
    .semestre {
      background-color: #f8f8f8;
      border-left: 8px solid #f9d9e5;
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 10px;
    }
    .materia {
      padding: 8px 12px;
      margin: 5px 0;
      background-color: #f9d9e5;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .materia:hover {
      background-color: #f3c0d7;
    }
    .materia.bloqueada {
      background-color: #efd6e0;
      cursor: not-allowed;
      opacity: 0.6;
    }
    .materia.aprobada {
      text-decoration: line-through;
      background-color: #e2b9cb;
    }
  </style>
</head>
<body>

<h2>Malla Curricular - Derecho (9 semestres)</h2>

<div id="malla"></div>

<script>
const malla = {
  "PRIMER SEMESTRE": [
    "TEORÍAS DEL DERECHO",
    "PRINCIPIOS DEL DERECHO PENAL",
    "ANÁLISIS SOCIAL Y CONFLICTO COLOMBIANO",
    "TEORÍA DEL ESTADO",
    "CÁTEDRA UNIVERSITARIA Y PENSAMIENTO LATINOAMERICANO",
    "FORMACIÓN CIUDADANA",
    "HABILIDADES COMUNICATIVAS",
    "SUJETO JURÍDICO"
  ],
  "SEGUNDO SEMESTRE": [
    {nombre: "TEORÍA DEL DELITO", requiere: ["PRINCIPIOS DEL DERECHO PENAL"]},
    "SISTEMAS JURÍDICOS Y DERECHO COMPARADO",
    "INNOVACIÓN Y ECOSISTEMAS DIGITALES",
    "CONSTITUCIONAL GENERAL",
    "FUNDAMENTOS DE ECONOMÍA",
    "EPISTEMOLOGÍA",
    "FUNDAMENTOS PARA LA INVESTIGACIÓN"
  ],
  "TERCERO SEMESTRE": [
    "ÉTICA Y RESPONSABILIDAD AMBIENTAL",
    "FILOSOFÍA DEL DERECHO",
    "TECNOLOGÍAS EMERGENTES",
    "CONSTITUCIONAL COLOMBIANO",
    "DERECHO INTERNACIONAL PÚBLICO",
    "ORALIDAD Y DISCURSO JURÍDICO",
    "DERECHO DE LA PROPIEDAD"
  ],
  "CUARTO SEMESTRE": [
    "DERECHO LABORAL INDIVIDUAL",
    "DERECHOS HUMANOS Y SISTEMAS DE PROTECCIÓN",
    {nombre: "DERECHO ADMINISTRATIVO GENERAL", requiere: ["CONSTITUCIONAL COLOMBIANO"]},
    {nombre: "PROTECCIÓN PENAL DE BIENES JURÍDICOS", requiere: ["TEORÍA DEL DELITO"]},
    {nombre: "DERECHO DE LA PROPIEDAD II", requiere: ["DERECHO DE LA PROPIEDAD"]}
  ],
  "QUINTO SEMESTRE": [
    "DERECHO LABORAL COLECTIVO",
    "TEORÍA GENERAL DEL PROCESO I",
    {nombre: "DERECHO ADMINISTRATIVO COLOMBIANO", requiere: ["DERECHO ADMINISTRATIVO GENERAL"]},
    "ENFOQUES CRÍTICOS DEL DERECHO",
    "TEORÍA DEL ACTO Y DEL NEGOCIO JURÍDICO",
    "ESTUDIOS CRÍTICOS LATINOAMERICANOS"
  ],
  "SEXTO SEMESTRE": [
    "DERECHO AMBIENTAL",
    "SEGURIDAD SOCIAL",
    {nombre: "TEORÍA GENERAL DEL PROCESO II", requiere: ["TEORÍA GENERAL DEL PROCESO I"]},
    {nombre: "PROCEDIMIENTO ADMINISTRATIVO", requiere: ["TEORÍA GENERAL DEL PROCESO I"]},
    "DERECHO MERCANTIL Y NEGOCIOS EMERGENTES",
    {nombre: "OBLIGACIONES", requiere: ["TEORÍA DEL ACTO Y DEL NEGOCIO JURÍDICO"]},
    "HERMENÉUTICA Y ARGUMENTACIÓN JURÍDICA"
  ],
  "SÉPTIMO SEMESTRE": [
    "RAZONAMIENTO CUANTITATIVO",
    {nombre: "PROCEDIMIENTO LABORAL", requiere: ["TEORÍA GENERAL DEL PROCESO II"]},
    {nombre: "PROCEDIMIENTO CIVIL I", requiere: ["TEORÍA GENERAL DEL PROCESO II"]},
    {nombre: "PROCEDIMIENTO PENAL", requiere: ["TEORÍA GENERAL DEL PROCESO II"]},
    "ÉTICA DEL ABOGADO",
    "DERECHO DE LAS SOCIEDADES",
    {nombre: "CONTRATOS", requiere: ["OBLIGACIONES"]}
  ],
  "OCTAVO SEMESTRE": [
    "PROYECTO DE INVESTIGACIÓN",
    "ACCIONES CONSTITUCIONALES",
    {nombre: "PROCEDIMIENTO CIVIL II", requiere: ["PROCEDIMIENTO CIVIL I"]},
    "NOTARIADO Y REGISTRO",
    "SOLUCIÓN ALTERNATIVA DE CONFLICTOS",
    {nombre: "TÍTULOS VALORES", requiere: ["OBLIGACIONES"]},
    "DERECHO DE FAMILIA"
  ],
  "NOVENO SEMESTRE": [
    {nombre: "PROBATORIO", requiere: ["TEORÍA GENERAL DEL PROCESO II"]},
    "SUCESIONES",
    "RESPONSABILIDAD CIVIL EXTRACONTRACTUAL"
  ]
};

const container = document.getElementById("malla");
const estado = JSON.parse(localStorage.getItem("mallaEstado")) || {};

function crearMalla() {
  container.innerHTML = "";
  for (let [semestre, materias] of Object.entries(malla)) {
    const sem = document.createElement("div");
    sem.className = "semestre";
    const titulo = document.createElement("h3");
    titulo.textContent = semestre;
    sem.appendChild(titulo);
    materias.forEach(m => {
      const mat = document.createElement("div");
      const nombre = typeof m === "string" ? m : m.nombre;
      mat.textContent = nombre;
      mat.className = "materia";
      if (estado[nombre]) mat.classList.add("aprobada");
      if (typeof m !== "string" && m.requiere && !m.requiere.every(r => estado[r])) {
        mat.classList.add("bloqueada");
      }
      mat.onclick = () => {
        if (mat.classList.contains("bloqueada")) return;
        mat.classList.toggle("aprobada");
        estado[nombre] = mat.classList.contains("aprobada");
        localStorage.setItem("mallaEstado", JSON.stringify(estado));
        crearMalla(); // volver a pintar
      };
      sem.appendChild(mat);
    });
    container.appendChild(sem);
  }
}

crearMalla();
</script>

</body>
</html>
